<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Facebook Friebase</title>
    <script src="https://www.gstatic.com/firebasejs/6.3.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.1/firebase-auth.js"></script>
    <script>
  // Your web app's Firebase configuration
    let firebaseConfig = {
        apiKey: "AIzaSyAP-d656rlvvZJQeiOr0HXmAO8Lh8JCi6Q",
        authDomain: "test1-afe85.firebaseapp.com",
        databaseURL: "https://test1-afe85.firebaseio.com",
        projectId: "test1-afe85",
        storageBucket: "",
        messagingSenderId: "239087473718",
        appId: "1:239087473718:web:dbab39b537f46f0a"
    };
  // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    //Check login status
     firebase.auth().onAuthStateChanged(function(user) {
 　　　 if (user) {
    　　// User is signed in.
    　　   console.log("oK",user.email);
           let logined = document.querySelector("#logined");
           logined.style.display = "none";
  　 } else {
           console.log("not sign in");
  　}
　　});
    //support facebook login
    let provider = new firebase.auth.FacebookAuthProvider();
    provider.addScope("email,user_birthday");
  //onclik發生的事
    function run(){
        firebase.auth().signInWithPopup(provider).then(function(result) {
  // This gives you a Facebook Access Token. You can use it to access the Facebook API.
        var token = result.credential.accessToken;
  // The signed-in user info.
        var user = result.user;
        console.log(user);
        }).catch(function(error) {
        console.log(error);
        });

    }
</script>
</head>
<body>
    <h3>facebook login</h3>
    <button onclick="run();" style="display: block" id="logined">login</button>
</body>
</html>
